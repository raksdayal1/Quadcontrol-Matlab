clc;clear all; close all;
% This is an environment file

s = RandStream('shr3cong');
RandStream.setGlobalStream(s);

x = -50:250;
y = -50:250;

[X,Y] = meshgrid(x,y);
sx = length(x);
sy = length(y);


%Zh = zeros(size(X,1),size(X,2)); % represents the peaks
% xc1 = [-30, -45, -45, -60 ,-60, -75, -75 ,0, 10, 30, 50, 70, 90, 110, 130, 150, 170] ;
% yc1 = [0, 20, -20, 40, -40, 60, -60, 100, 120, 140, 155, 175, 185, 199, 215, 225, 235];
xc1 = [200,220,230,250,150,145,155,160,155,100,100,95,100,95,100,50,55,60,50,55,60,55,50,-90,-75,-60,-45,-10,-10,-15,-20,-20,0,15,25,40,-15,0,-30,-45,270,100,130,275,280,175,190,160,180,190,210,225,240,260,270,250,235,220,220,230];
yc1 = [255,250,245,250,200,220,240,260,280,180,200,165,120,130,155,155,180,195,210,220,240,270,285,170,180,180,190,100,120,135,155,50,50,55,10,10,-40,-60,0,20,30,-10,0,190,180,60,50,140,150,150,50,60,60,50,65,200,190,200,120,120];
var1 = 200*ones(1,length(xc1));
h1 = [65,75,85,65,75,60,80,85,75,80,85,90,90,75,60,60,65,70,75,80,75,65,75,70,85,75,60,55,70,65,65,60,65,60,75,80,50,70,100,85,80,100,100,90,90,100,80,95,70,75,60,70,70,60,80,65,85,90,100,85,50,55];
% h1 = [100, 85, 85, 70, 70, 60, 55, 80, 80, 60,80,40, 70, 65, 80, 60, 70, 80,60];
xc2 = xc1(8:numel(xc1))- 90*ones(1,length(xc1(8:numel(xc1))));
yc2 = yc1(8:numel(yc1)) - 90*ones(1,length(xc1(8:numel(yc1)))) ;
var2 = 200*ones(1,numel(xc1));
h2 = h1(8:numel(h1));

xc = horzcat(xc1,xc2);
yc = horzcat(yc1,yc2);
var = horzcat(var1,var2);
h = horzcat(h1,h2);
for i = 1:length(xc)       
    Zh(:,:,i) = h(i)*exp(-((X -(xc(i)) ).^2 + (Y -(yc(i)) ).^2)/var(i));
end


% Zv = zeros(size(X,1),size(X,2),v); % represents the valley
 xc = [100,100,45,0,-20,-45,-55,-60,50,90, 90, 125 , 125,220,230,220,230,220];
 yc = [250,270,90,250,270,100,110,125,-10,-40, -50, -30, -40,160,170,-10,-20,80];
 var = [30,30,40,40,45,20,25,30,40,30, 20, 30, 50,20,30,20,20,40]*10;
 h = [50,55,40,60,55,40,60,50,60,70, 50, 20, 70,50,70,50,55,70];
for i = 1:length(xc)
    Zv(:,:,i) = -h(i)*exp(-((X -(xc(i)) ).^2 + (Y -(yc(i)) ).^2)/var(i));
end

Zt = sum(Zh,3) + sum(Zv,3);
contour(X,Y,Zt)
grid on
axis tight

%save('Environment','Zt','X','Y','x','y')